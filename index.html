<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>用JS实现网页里的Flash全屏功能_牛图库</title>
<style type="text/css">
<!--
body, td, th { font-family: Courier New, Courier, monospace; }
body { margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; }
-->
</style>
</head>
<body>
<div id="flashcontent" style="width:400px;height:300px;"></div>
<p>
  <script language="javascript" src="js/swfobject.js"></script>
  <script language="JavaScript">
	var orginFlash = {init:false,isFullScreen:false,position:"",top:"",left:"",width:"",height:""};
	function writeFlash(){
		var so = new SWFObject("fullscreen.swf", "fplayer", "100%", "100%", 8, "#FFFFFF");
		so.addParam("quality", "high");
		so.addParam("swLiveConnect", "true");
		so.addParam("menu", "false");
		so.addParam("allowScriptAccess", "sameDomain");
		so.addParam("allowFullScreen", "true");
		so.write("flashcontent");		
	}
	function getScreenSize(){
		var w = 0;
		var h = 0;
		if( typeof( window.innerWidth ) == 'number' ) {
			w = window.innerWidth;
			h = window.innerHeight;
		} else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
			w = document.documentElement.clientWidth;
			h = document.documentElement.clientHeight;
		} else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
			w = document.body.clientWidth;
			h = document.body.clientHeight;
		}
		return {width:w,height:h};
	}
	function fullScreen(){
		if(!orginFlash.init){			
			orginFlash.position = document.getElementById("flashcontent").style.position;
			orginFlash.top = document.getElementById("flashcontent").style.top;
			orginFlash.left = document.getElementById("flashcontent").style.left;
			orginFlash.width = document.getElementById("flashcontent").style.width;
			orginFlash.height = document.getElementById("flashcontent").style.height;
		}
		orginFlash.init = true;
		orginFlash.isFullScreen = true;
		var screenSize = getScreenSize();
		try{
			document.getElementById("flashcontent").style.position = "absolute";
			document.getElementById("flashcontent").style.top = "0px";
			document.getElementById("flashcontent").style.left = "0px";
			document.getElementById("flashcontent").style.width = screenSize.width +"px";
			document.getElementById("flashcontent").style.height = screenSize.height +"px";
			document.body.style.overflow="hidden";
			window.scrollTo(0,0);
		}catch(e){
		}
	}
	function normal(){
		if(orginFlash.init){
			orginFlash.isFullScreen = false;
			try{
				document.getElementById("flashcontent").style.position = orginFlash.position;
				document.getElementById("flashcontent").style.top = orginFlash.top;
				document.getElementById("flashcontent").style.left = orginFlash.left;
				document.getElementById("flashcontent").style.width = orginFlash.width;
				document.getElementById("flashcontent").style.height = orginFlash.height;
				document.body.style.overflow="auto";
			}catch(e){				
			}
		}
	}
	function reSize(){
		if(orginFlash.isFullScreen){
			fullScreen();
		}
	}
	window.onresize = reSize;
	writeFlash();
</script>
</p>
<table width="728" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr>
    <td>

<div style="width:550px;margin:20px auto;">
<p><strong><a href="http://js.niutuku.com">牛图库整理</a></strong> </p>
<p>转载请自觉注明出处！注：此代码仅供学习交流，请勿用于商业用途。</p>
</div>

      <p align="center"></p>
      <p align="center">
      <p>　　可以&ldquo;按ESC 退出全屏模式&rdquo;</p>
      <p>　　FLASH 全屏有二类四种：<br />
        <br />
        1、不用浏览器直接用FLASH播放器播放的类型：<br />
        <br />
        A、不显示FLASH播放器菜单栏的全屏（类似屏保效果），在第一帧处的Actions用FS Command 命令，在For standalone player 选项中选择fullscreen 为true 即可。</p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="tpc_content">getURL(&quot;FSCommand:trapallkeys&quot;,&quot;true&quot;); //屏蔽掉esc键（指定 true 可将所有按键事件（包括快捷键）发送到 Flash Player 中的 onClipEvent(keyDown/keyUp) 处理函数。）<br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getURL(&quot;FSCommand:fullscreen&quot;,&quot;true&quot;); //全屏<br />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getURL(&quot;FSCommand:showmenu&quot;,&quot;false&quot;); //不显示右键菜单</span></p>
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行中可按 ESC 退出或设一按钮在Actions上用FS command ，在For standalone player 选项中选择quit 也可退出。附带说一句：<br />
        <br />
        For standalone player上的所的选项只适合于用FLASH 播放器播放的情况。<br />
        <br />
        B、如果仅是要使SWF文件占满FLASH播放器的窗口，什么也不需要做。直接击SWF文件。<br />
        以上一类全屏多用在非网络的运行。<br />
        <br />
        2、第二类是在非FLASH 浏览器（如IE）中运行的全屏：<br />
        <br />
        A、只占满浏览器：这种情况相对简单，不管您设的FLASH是否是800*600，只要在调用SWF文件的HTML文件中将WIDTH= HEIGHT= 后面的两个参数设为100即可，当然也可以在FLASH 导出HTML文件的设置中进行设置，<br />
        <br />
        方法是：打开FILE菜单：选Publish Settings 弹出导出设置对话框：在HTML标签下的Dimensions选项中下拉后选中Percent,并在WIDTH 和HEIGHT 框中填100，运行这个与SWF同名的HTML文件则与直接加语句同效。这种占满浏览器的全屏与SWF文件的设置无关，但最好设置的大小在700*400附近，否则容易导致图像特别是汉字的失真。<br />
        <br />
        B、不显示浏览器菜单栏、工具栏的全屏。这种全屏稍稍复杂,也与FLASH的设置无关，但要借助Javacript来完成。方法是：在HTML文件中间加入以下代码：<br />
        <br />
        ＜script language=&quot;Javascript&quot;＞<br />
        ＜!-- <br />
        window.open(&quot;nfd.swf&quot;,&quot;&quot;,&quot;fullscreen=1,menubar=no,width=800,height=600&quot;) <br />
        //--＞ <br />
        ＜/script＞<br />
        <br />
        注：nfd.swf 改为您要播放的SWF文件名。<br />
        <br />
        也可以在SWF文件的第一帧Actions上的URL 命令上加上:<br />
        <br />
        javascript:window.open(&quot;nfd.swf&quot;,&quot;&quot;,&quot;fullscreen=1,menubar=no,width=800,height=600&quot;) <br />
        <br />
        注：nfd.swf 改为您要播放的SWF文件名。<br />
        <br />
        这种全屏也是类似屏保，用ALT+F4或设置按钮退出。把fullscreen设为=0,则只是不显示浏览器菜单栏、工具栏的全屏。<br />
        <br />
        用FLASH 的 player 播放时，即使没有设置 FSCOMMAND 也可以用 CTRL+F 的方式全屏播放。<br />
        好了，关于全屏的所有方法就是如此，您可以根据自己的需要试试看（以上以IE为例）。</p>
      </p>
      <p align="center"></p></td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>
